%!TEX root = ../template.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% chapter4.tex
%% NOVA thesis document file
%%
%% Chapter with lots of dummy text
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CHAPTER - Conclusion/Future Work --------------
\chapter{Conclusão}
O desenvolvimento do projeto envolve vários aspetos, desde o desenho da sintaxe e da gramática correspondente, até à geração de sons a serem guardados em ficheiros ou reproduzidos imediatamente em dispositivos áudio. Também engloba aspetos comuns em todas as linguagens de programação, em conjunto com questões mais específicas sobre como gerir o conceito de tempo na linguagem, de \textit{laziness} para gerar apenas as notas necessárias, entre muitos outros.

Para além disso também abrange quais as ferramentas e as metodologias que são mais adequadas para a utilização da linguagem. É necessário para isso estudar com exemplos reais, qual a melhor forma de produzir e desenvolver música em formato textual. Quais as funções e as suas interfaces que são mais úteis disponibilizar logo à partida a todos os utilizadores.

No entanto, sendo a criação musical uma área tão ampla, é inútil tentar sequer conseguir desenvolver uma ferramenta que cubra todos os cantos e sirva todas as necessidades dos seus potenciais utilizadores. É por isso que é importante apoiar o desenvolvimento do projeto nas vantagens que a linguagem \textit{Python} fornece, quer a nível da sua facilidade de uso, popularidade, e fácil extensão sem necessidade de complicados processos de compilação.

O projeto foi por isso desenvolvido com extensibilidade em mente, tendo como objetivo principal servir como uma fundação estável capaz de ligar as diversas ferramentas existentes, não só na área da música, mas permitir ligar a música a outras áreas.

Durante o desenvolvimento, tornou-se claro que criar música através de programação é uma forma extremamente poderosa de se trabalhar em muitas situações, mas não é uma solução perfeita para todos os casos. Com isto em mente, sentimos que a nossa escolha de incluir diretamente na nossa linguagem a possibilidade de programar teclados permite cobrir os momentos em que o utilizador precisa de uma forma mais interativa e imediata de tocar e compor músicas. Para além disso, as funcionalidades extra de permitir gravar e reproduzir as \textit{performances} em \textit{buffers} enquanto os teclados estão ativos, bem como a inclusão de um simples editor de código que permite escrever e executar código em \textit{runtime} ofereceram uma experiência de composição e experimentação com ágil e rápido \text{feedback loop}.

A nível de processamento de linguagem, sentimos que a escolha de usar um interpretador \textit{tree-walk} favoreceu muito a prototipagem de funcionalidades na linguagem. Mas fica sempre aberta a possibilidade de implementação da linguagem com um \textit{backend} alternativo, quer através de uma maquina virtual de \textit{bytecode}, ou possivelmente até \textit{convertendo} o código Musikla para código \textit{Python} e usando as funcionalidades de execução em \textit{runtime} do mesmo.

A coleção de métodos e classes disponibilizados pela linguagem, e mais especificamente, pela biblioteca \textit{standard} desenvolvida para acompanhar a linguagem, já permite o desenvolvimento de \textit{scripts} bastante complexos e interessantes, como pode ser visto em muitos dos casos de estudo. Ainda assim, é indiscutível que existem ainda uma enorme quantidade de métodos e primitivas ligadas à teoria musical ou à geração procedural de música por adicionar, pois tal é uma tarefa sempre em evolução.

Ficamos também satisfeitos por reutilizar padrões, técnicas e bibliotecas onde existem já soluções bem estabelecidas, tanto a nível de formatos de \textit{input/output}, como o caso do formato \textit{MIDI} ou \textit{abc}, que nos permitem apanhar boleia de todo o ecossistema de ferramentas construído já à sua volta. Também a utilização de módulos como o FluitSynth, que nos permitiu não só fazer programas que escrevessem ou retornassem notação musical como resultado, mas tocassem as notas em \textit{realtime}, com suporte para vários instrumentos, sem o utilizador necessitar de configurar nada externo à aplicação, tornou-a a nosso ver muito mais interessante. Por fim, a utilização de notação existente (como a do \textit{abc notation}) dentro da nossa própria linguagem reduz imenso a curva de aprendizagem necessária para alguém (quer já seja músico ou não) se tornar proficiente com ela.

Tudo isto resulta, na nossa opinião, num projeto que não reinventa a roda, mas sim adota os standards existentes onde estes fazem sentido, e pode assim focar-se em colmatar as áreas que realmente faltavam no ecossistema: uma linguagem declarativa e dinâmica para descrição de acompanhamentos musicais, e da possibilidade de criação de teclados interativos que combinam sem fricção com o resto da linguagem. 

E assim esperamos que este projeto sirva como uma fundação. Que permita a mais pessoas no futuro fazer como nós fizemos, aproveitando as ideias que já existam e encontrem novas aberturas na área da música computacional. E desta vez aproveitando boleia da nossa linguagem, como nós fizemos também, criem novos projetos, novas ideias e novas possibilidades.

\section{Trabalho Futuro}
A linguagem e a aplicação Musikla foi um projeto bastante ambicioso, e com bastante potencial, não só pelo que já foi feito, mas pela enorme quantidade de funcionalidades que seriam extremamente interessantes de adicionar ainda.

Algo que ainda não foi bastante explorado mas que é bastante importante passa pela descrição de elementos de percursão na linguagem. Seria extremamente desejável estudar qual a sintaxe e a semântica mais ergonómica para esse efeito.

Também era importante fornecer de raiz a possibilidade de o utilizador empregar técnicas de processamento de audio digital para aplicar efeitos em tempo real aos sons gerados pela aplicação. Para isso, seria interessante estudar possíveis formas de integração com alguma das linguagens já mencionadas nesta dissertação (como a linguagem \textbf{FAUST}, por exemplo) para esse efeito. Esta abordagem teria a vantagem de utilizar ferramentas já optimizadas para a tarefa (que pode ser bastante exigente em termos computacionais), e permitir que utilizadores mais profissionais pudessem usar a nossa linguagem sem a terem de ligar a soluções externas (algo que é possível fazer, usando por exemplo a nossa saída MIDI para controlar algum \acrfull{daw} com a nossa linguagem).

A linguagem e a aplicação Musikla atualmente fornecem só uma interface de linha de comandos, que apesar de bastante poderosa, pode ser limitativa em alguns casos. Gostávamos por isso de investigar quais as formas em como poderíamos permitir, dentro da nossa linguagem, ao utilizador descrever interfaces gráficas costumizadas, e usá-las para receber \textit{feedback} sobre o estado da aplicação ou controlar a música que é gerada.

O interpretador da semântica dinâmica também poderia ser melhor optimizado caso o fator da \textit{performance} se tornasse mais relevante (o que poderia acontecer no caso das interfaces gráficas). Para isso poderiamos converter em \textit{runtime} o código para \textit{Python} que seria depois mais rápido a executar, ou construir alguma máquina de \textit{bytecode} que seria também mais rápida que a nossa solução atual.

A nível da biblioteca \textit{standard} e dos formatos de entrada e saída que são suportados, trata-se de um esforço contínuo para adicionar novas funcionalidades, novos formatos, ou mesmo melhorar aqueles que são já suportados mas dando-lhes novas configurações e novas possibilidades de utilização.
